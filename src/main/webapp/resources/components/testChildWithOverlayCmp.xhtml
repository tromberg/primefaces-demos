<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	xmlns:acmp="http://java.sun.com/jsf/composite/components" 
	xmlns:ai="http://www.cosmosworldwide.com/2012/TOS/fw/web/input">
<head>
</head>
<body>
	<composite:interface>
		<composite:attribute name="search" type="java.util.Map"></composite:attribute>
		<composite:attribute name="filterListener" method-signature="void actionListener(javax.faces.event.ActionEvent)" />
		<composite:facet name="searchFields" />
	</composite:interface>
	<composite:implementation>
		<p:commandButton id="filterPanelButton" icon="ui-image-filter" onclick="return false;"></p:commandButton>


		<p:overlayPanel id="searchPanel" for="filterPanelButton" dynamic="true" widgetVar="searchPanel"
			onShow="PrimeFaces.focus(null, this.id);" appendToBody="true">
			<h:form id="frmFilterPanel">
				<p>
					Input outside Facet:
					<h:inputText id="outsideFacet" value="#{dummyBean.theMap.outsideFacet}" />
				</p>
				<composite:insertChildren />
				<p>
					<p:commandButton id="btnFilterApply" process="@form" value="Apply" update="@form" oncomplete="searchPanel.hide();"
						actionListener="#{cc.attrs.filterListener}">
					</p:commandButton>
				</p>
			</h:form>
		</p:overlayPanel>
	</composite:implementation>
</body>
</html>
